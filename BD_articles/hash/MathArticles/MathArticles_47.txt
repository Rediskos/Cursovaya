Задача о рюкзаке  ВикипедияянварьфевральмартапрельмайиюньиюльавгустсентябрьоктябрьноябрьдекабрьЗадачаорюкзакеЗадача о рюкзакеСтраницы использующие волшебные ссылки ВикипедияХорошие статьи по математикеВикипедияХорошие статьи по алфавитуполные задачиПрикладная математикаДинамическое программированиеЗадачаорюкзакеЗадачаоранцерусскийЗадача о рюкзакеМатериал из Википедии  свободной энциклопедииперенаправлено с Задача о ранцеЭто стабильная версия отпатрулированная  февраля СостояниеотпатрулированаПерейти к навигацииПерейти к поиску Пример задачи о рюкзаке необходимо уложить коробки в ранец вместимостью кг так чтобы стоимость уложенных коробок была максимальнойЗадача о рюкзаке или задача о ранце полная задача комбинаторной оптимизации Своё название получила от конечной цели уложить как можно большее число ценных вещей в рюкзак при условии что вместимость рюкзака ограничена С различными вариациями задачи о рюкзаке можно столкнуться в экономике прикладной математике криптографии и логистикеВ общем виде задачу можно сформулировать так из заданного множества предметов со свойствами стоимость и вес требуется отобрать подмножество с максимальной полной стоимостью соблюдая при этом ограничение на суммарный весСодержание Классическая постановка задачи Варианты задачи о рюкзаке Нелинейная задача о рюкзаке Точные методы решения Полный перебор Метод ветвей и границ Методы динамического программирования Задача о неограниченном рюкзаке Задача о рюкзаке  Динамическое программирование над ценностями предметов Приближенные методы решения Жадный алгоритм Приближенная схема полностью полиномиального времени Генетические алгоритмы Решение задачи о сумме подмножеств Приложения Задача о рюкзаке в криптографии Шифрование с помощью задачи о рюкзаке Примечания Литература СсылкиКлассическая постановка задачиправить  править кодПусть имеется набор предметов каждый из которых имеет два параметра вес и ценность Также имеется рюкзак определённой вместимости Задача заключается в том чтобы собрать рюкзак с максимальной ценностью предметов внутри соблюдая при этом ограничение рюкзака на суммарный весМатематически задача формулируется следующим образом имеется   грузов Для каждого  го груза определён его вес   и ценность     Ограничение суммарного веса предметов в рюкзаке задаётся грузоподъёмностью   Необходимомаксимизировать   с ограничениями     и    Варианты задачи о рюкзакеправить  править кодОсновная статья Список задач о рюкзакеПостановка задачи допускает большое количество обобщений в зависимости от условий наложенных на рюкзак предметы или их выбор Наиболее популярными разновидностями являются следующиеРюкзак  англ   не более одного экземпляра каждого предметаОграниченный рюкзак англ   не более заданного числа экземпляров каждого предметаНеограниченный рюкзак англ   произвольное количество экземпляров каждого предметаРюкзак с мультивыбором англ   предметы разделены на группы и из каждой группы требуется выбрать только один предметМножественный рюкзак англ   есть несколько рюкзаков каждый со своим максимальным весом Каждый предмет можно положить в любой рюкзак или оставитьМногомерный рюкзак англ   вместо веса дано несколько разных ресурсов например вес объём и время укладки Каждый предмет тратит заданное количество каждого ресурса Надо выбрать подмножество предметов так чтобы общие затраты каждого ресурса не превышали максимума по этому ресурсу и при этом общая ценность предметов была максимальнаКвадратичная задача о рюкзаке англ   суммарная ценность задается неотрицательно определённой квадратичной формойНелинейная задача о рюкзакеправить  править кодОдним из наиболее общих вариантов задачи о рюкзаке является нелинейный Его можно сформулировать следующим образомПусть вектор      определяет количество экземпляров каждого предмета в рюкзаке Тогда задача состоит в нахождении минимума функции    при заданном ограничении  Функции        предполагаются непрерывными и дифференцируемыми на       целочисленная константа множество   непустоВ случае линейных функций   задача сводится к одной из классических постановок в зависимости от множества    рюкзак     неограниченный рюкзак      ограниченный рюкзакСвобода в выборе функций   позволяет решать более широкий класс задач включая организацию производственных мощностейанглрусск оптимальное распределение семплов в районированной выборке или решение квадратичной задачи о рюкзакеТочные методы решенияправить  править кодКак было сказано выше задача о рюкзаке относится к классу полных и для неё нет полиномиального алгоритма решающего её за разумное время Поэтому при решении задачи о рюкзаке необходимо выбирать между точными алгоритмами которые неприменимы для больших рюкзаков и приближенными которые работают быстро но не гарантируют оптимального решения задачи Дерево полного перебора соответствующее поиску решения для трех предметов В каждом узле определяется будет ли данный предмет уложен в рюкзак Цифра в узле соответствует номеру предмета Цифры на рёбрах  означает что предмет не был взят  что былПолный переборправить  править кодКак и для других дискретных задач задачу о рюкзаке можно решить полностью перебрав все возможные решения Допустим имеется   предметов которые можно укладывать в рюкзак Нужно определить максимальную стоимость груза вес которого не превышает  Для каждого предмета существует  варианта предмет либо кладётся в рюкзак либо нет Тогда перебор всех возможных вариантов имеет временную сложность   что позволяет его использовать лишь для небольшого количества предметовС ростом числа предметов задача становится неразрешимой данным методом за приемлемое времяНа рисунке показано дерево перебора для трёх предметов Каждый лист соответствует некоторому подмножеству предметов После составления дерева необходимо найти лист с максимальной ценностью среди тех вес которых не превышает  Метод ветвей и границправить  править кодМетод ветвей и границ является вариацией метода полного перебора с той разницей что мы исключаем заведомо неоптимальные ветви дерева полного перебора Как и метод полного перебора он позволяет найти оптимальное решение и поэтому относится к точным алгоритмамОригинальный алгоритм предложенный Питером Колесаром англ  в  году предлагает отсортировать предметы по их удельной стоимости отношению ценности к весу и строить дерево полного перебора Его улучшение заключается в том что в процессе построения дерева для каждого узла мы оцениваем верхнюю границу ценности решения и продолжаем строить дерево только для узла с максимальной оценкой Когда максимальная верхняя граница оказывается в листе дерева алгоритм заканчивает свою работуСпособность метода ветвей и границ уменьшать количество вариантов перебора сильно опирается на входные данные Его целесообразно применять только в том случае когда удельные ценности предметов отличаются значительноМетоды динамического программированияправить  править кодЗадача о неограниченном рюкзакеправить  править кодПри дополнительном ограничении на веса предметов задачу о рюкзаке можно решить за псевдополиномиальное время методами динамического программированияПусть вес каждого предмета   является целым неотрицательным числом Тогда для решения задачи необходимо вычислить оптимальные решения для всех        где   заданная грузоподъемность Определим   как максимальную ценность предметов которые можно поместить в рюкзак грузоподъемностью  Для   можно записать рекуррентные формулы    где   ценность и вес  го предмета соответственно а максимум из пустого множества следует считать равным нулюФактически последнее уравнение является функциональным уравнением Р Беллмана или функциональным уравнением динамического программирования В данном случае для его решения достаточно вычислить все значения   начиная с   и до   Если дополнительно хранить на каждом шаге набор предметов который реализует максимальную ценность то алгоритм выдаст и оптимальный набор предметовТак как на каждом шаге необходимо найти максимум из   предметов алгоритм имеет вычислительную сложность   Поскольку   может зависеть экспоненциально от размера входных данных алгоритм является псевдополиномиальным Поэтому эффективность данного алгоритма определяется значением   Алгоритм даёт отличные результаты при    но не очень хорошие для     Задача о рюкзаке править  править кодРешение задачи о рюкзаке  близко к решению предыдущей задачи но необходимо учесть тот факт что каждый предмет имеется в единственном экземпляре Пусть   максимальная ценность предметов полученных из первых   имеющихся предметов с суммарным весом не превышающим  Рекуррентные соотношения   если    если   Вычисляя   можно найти точное решение Если массив   помещается в памяти машины то данный алгоритм вероятно является одним из наиболее эффективных   Ввод   Ценности предметов загруженные в массив    Веса предметов загруженные в массив    Количество предметов    Грузоподъемность                                                                                                    Проиллюстрировать решение методом динамического программирования можно следующим образом на двумерной плоскости по оси   откладывается количество предметов по оси   их вес На первом шаге из начала координат строятся две линии горизонтальная соответствующая тому что первый предмет не был взят и наклонная соответствующая взятому первому предмету Их проекции на ось   равны весу предмета На втором шаге опять строятся  линии горизонтальная второй предмет не был взят или наклонная второй предмет взят Положим длину горизонтальных дуг равной нулю а наклонных ценности предмета  Сеть иллюстрирующая наполнение рюкзака В квадратных скобках указаны суммарная ценность на данном шаге алгоритма оптимальное решение помечено кругомТаким образом любому решению задачи соответствует некоторый путь в построенном дереве Задача сводится к нахождению пути максимальной длиныПусть вместимость рюкзака  Номер предметаЦенностьВесИз рисунка видно что суммарная ценность для оптимального решения равна  так как это максимальная ценность в построенном деревеДинамическое программирование над ценностями предметовправить  править кодРекуррентные соотношения можно записывать не только относительно веса предметов но также и относительно ценности Для этого обозначим за   минимальный вес предметов суммарной ценностью   который можно получить из первых   предметов Если необходимый вес получить невозможно то отметим это как  После этого решим функциональное уравнение динамического программирования     с начальными условиями  Приближенные методы решенияправить  править кодКак и для большинства полных задач не всегда необходимо получать точное решение так как решения близкие к оптимальным могут применяться в прикладных задачахЖадный алгоритмправить  править кодДля решения задачи жадным алгоритмом необходимо отсортировать вещи по их удельной ценности то есть отношению ценности предмета к его весу и поместить в рюкзак предметы с наибольшей удельной ценностьюВремя работы данного алгоритма складывается из времени сортировки и времени укладки Сложность сортировки предметов составляет   Далее происходит вычисление того сколько предметов поместится в рюкзак за общее время   Итоговая сложность   при необходимости сортировки и   при уже отсортированных данныхПример Пусть вместимость рюкзака   Предметы уже отсортированы по удельной ценности Применим жадный алгоритмвесценаценавесКладём в рюкзак первый предмет а за ним второй Третий предмет в рюкзак не влезет Суммарная ценность вещей в рюкзаке равна  Если бы были взяты второй и третий предметы то суммарная ценность составила бы  Таким образом мы получили некоторое неоптимальное решениеСледует понимать что жадный алгоритм может привести к ответу сколь угодно далёкому от оптимального Например если один предмет имеет вес  и стоимость  а другой  вес  и стоимость  то жадный алгоритм наберёт итоговую стоимость  при оптимальном ответе  При этом тот же алгоритм для неограниченной задачи о рюкзаке приведёт к ответу составляющему не менее  от ценности оптимального В приведённом примере жадный алгоритм возьмёт  первых предметов с общей ценностью  и это совпадает с оптимальным решениемВпервые жадный алгоритм был предложен Джорджем Данцигом для решения задачи о неограниченном рюкзакеПриближенная схема полностью полиномиального времениправить  править кодТак как точного алгоритма решения задачи за полиномиальное время не было найдено появилась задача получить полиномиальное решение с гарантированной точностью    Для этого существует целый ряд приближённых схем полностью полиномиального времени то есть со сложностью являющейся полиномом от   и    Идея стоящая за классической схемой заключается в снижении точности с которой заданы ценности предметов Объединяя предметы близкой ценности в одну группу можно снизить количество разных предметов Алгоритм записывается следующим образомНайдём приближённое решение   при помощи жадного алгоритма Пусть   точное решение Тогда из оценки эффективности жадного алгоритма    Отмасштабируем ценности следующим образом       Алгоритмом динамического программирования для задачи с целочисленными ценностями предметов находим решениеСуществует множество различных схем аппроксимации Тем не менее они сильно зависят от формулировки задачи о рюкзаке Например если в условии появляется второе ограничение типа неравенства двухмерный рюкзак то задача уже не имеет известной схемы полиномиального времениГенетические алгоритмыправить  править код Пример эволюции популяции при использовании генетического алгоритма Объектами являются строчки кодирующие в бинарном виде какие объекты кладутся в рюкзак Например строчка  соответствует выбору коробок весами кг и  кг Как и для других трудных задач оптимизации для решения задачи о рюкзаке применяются генетические алгоритмы Они не гарантируют нахождения оптимального решения за полиномиальное время и не дают оценку близости решения к оптимальному но обладают хорошими временными показателями позволяя найти достаточно хорошее решение быстрее других известных детерминированных или эвристических методовКаждая особь генотип представляет собой подмножество предметов которые мы хотим упаковать в ранец их общий вес может превысить допустимую грузоподъемность Для удобства информация хранится в виде бинарных строк в которых каждый бит определяет помещается ли этот предмет в ранецФункция приспособленности определяет близость решения к оптимальному Например таковой может служить суммарная ценность предметов при условии что суммарный вес не превосходит грузоподъемностьПосле серии смен поколений в которых скрещиваются наиболее приспособленные особи и игнорируются оставшиеся алгоритм по предположению должен улучшить исходные решенияРешение задачи о сумме подмножествправить  править кодЧастным случаем задачи рюкзака  является задача о сумме подмножеств Пусть   грузоподъёмность рюкзака   вес  го предмета а его стоимость   Таким образом задача состоит в том чтобы нагрузить рюкзак наиболее плотно или полностью исчерпать ресурсы     Для решения можно воспользоваться упомянутым генетическим алгоритмом Особью является вектор   В качестве функции приспособленности следует использовать близость суммарного веса предметов к   с той лишь особенностью что более предпочтительны наборы помещающиеся в рюкзак суммарный вес предметов меньше чем  Определим формально функцию приспособленности      Пусть    сумма весов всех предметов Тогда     максимально возможное отклонение веса предметов в рюкзаке от  Пусть    суммарный вес предметов для данного вектора Тогда положим       Пользуясь общим алгоритмом можно найти приближенное решениеСоздать случайный набор особей популяциюПодсчитать функцию приспособления для каждой особиОставить только наиболее приспособленных особей естественный отборПроизвести скрещивания особейПодвергнуть потомков мутацииПродолжить со второго шагаВыполнение прерывается либо при нахождении решения либо после заданного числа итерацийПриложенияправить  править кодДоподлинно неизвестно кто первым привел математическую формулировку задачи о рюкзаке Одно из первых упоминаний о ней можно найти в статье Джорджа Балларда Мэтьюсаанглрусск датированной  годом Интенсивное изучение данной проблемы началось после публикации Д Б Данцигом в  году книги англ    особенно в е годы  века как теоретиками так и практиками Во многом интерес был вызван достаточно простой формулировкой задачи большим числом её разновидностей и свойств и в то же время сложностью их решения В  году данная задача вошла в список М Карпа полных задач статья англ   Наглядная интерпретация задачи о рюкзаке привела к тому что она нашла применение в разных областях знаний в математике информатике и на стыке этих наук в криптографии В одной из работ по вычислительной лингвистике предложена формулировка задачи автоматического реферирования текстованглрусск частный случай которой соответствует постановке задачи о рюкзакеНа основе задачи о рюкзаке был создан первый алгоритм асимметричного шифрования Впервые идея криптографии с открытыми ключами была представлена Уитфилдом Диффи и Мартином Хеллманом на Национальной компьютерной конференции англ    годаТакже задача о рюкзаке может служить моделью для большого числа промышленных задачРазмещение грузов на складе минимальной площадиРаскройка ткани из имеющегося куска материала получить максимальное число выкроек определённой формыРасчет оптимальных капиталовложенийЗадача о рюкзаке в криптографииправить  править кодОсновная статья Задача о рюкзаке в криптографииВ  году Ральф Меркл и Мартин Хеллман разработали первый алгоритм для обобщённого шифрования с открытым ключом криптосистему Меркла Хеллмана построив её на основе задачи о ранце Они опубликовали одностадийный англ и мультистадийный англ варианты а алгоритм мог быть использован только для шифрования Но Ади Шамир адаптировал его и для использования в цифровых подписяхВ дальнейшем были предложены и другие криптосистемы на основе задачи о рюкзаке часть из которых являются модификацией криптосистемы Меркла Хеллмана Известные криптосистемыРюкзак Грэма ШамираРюкзак Гудмана МаколиРюкзак Наккаша СтернаРюкзак Шора РивестаШифрование с помощью задачи о рюкзакеправить  править кодБлагодаря тому что задачу о рюкзаке в общем виде нельзя решить точно за приемлемое время её можно использовать в криптографических задачах Для этого при публично известном наборе предметов мы представим сообщение как набор передаваемых предметов а отправим их суммарный весОпределение Рюкзачным вектором   назовём упорядоченный набор из  предметов где   вес  го предметаРюкзачный вектор является открытым ключом Для шифрования открытого текста его разбивают на блоки длиной   бит при этом каждый бит определяет наличие предмета в рюкзаке например открытый текст   соответствует наличию первых четырёх из шести возможных предметов в рюкзаке Считается что единица указывает на наличие предмета в рюкзаке а ноль на его отсутствиеПосле этого высчитывается суммарный вес предметов в рюкзаке для данного открытого текста и передаётся в качестве шифротекстаПример шифрования данным алгоритмомПусть задан рюкзачный вектор        с длиной  Открытый текст                    Вещи в рюкзаке     Шифротекст              Примечанияправить  править код                                    англ      февраль            Окулов   Окулов                        С с   Бурков Горгидзе Ловецкий  с     Романовский ИВ Алгоритмы решения экстремальных задач Наука  С с Стивен С Скиена Алгоритмы Руководство по разработке  СПб БХВПетербург  С с     Новиков  с                                                    Т  вып  С   ДИ Батищев ЕА Неймарк НВ Старостин Применение генетических алгоритмов к решению задач дискретной оптимизации  Нижний Новгород      С М Авдошин А А Савельева Криптоанализ современное состояние и перспективы развитиярус С         англ             Р Карп    англ       Шнаер   Габидулин Кшевецкий Колыбельников  Бурков Горгидзе Ловецкий       Шнаер            рус  Саломаа  Литератураправить  править кодна русском языкеЛевитинАВ Алгоритмы Введение в разработку и анализ  М Вильямс   С  с   Томас Х Кормен Чарльз И Лейзерсон Рональд Л Ривест Клиффорд Штайн Алгоритмы построение и анализ     ое М Вильямс  С  Роберт Седжвик Фундаментальные алгоритмы на  Части  Анализ Структуры данных Сортировка Поиск            е Россия СанктПетербург ДиаСофт  С   БурковВН ГоргидзеИА ЛовецкийСЕ Прикладные задачи теории графов  под ред АЯГоргидзе  Тбилиси Вычислительный центр АН СССР   сВ Н Бурков Д А Новиков Элементы теории графов  СС Окулов Программирование в алгоритмах е Бином Лаборатория знаний  С  Б Шнайер Прикладная криптография Протоколы алгоритмы исходные тексты на языке Си           ое Триумф  с  экз   Архивная копия от  декабря  на  А Саломаа Криптография с открытым ключом    М Мир  С   Архивная копия от  марта  на  Н Коблиц Курс теории чисел в криптографии ое М Научное издательство ТВП  С  ГабидулинЭМ КшевецкийАС КолыбельниковАИ Защита информации учебное пособие  М МФТИ   с   Осипян В О О системе защиты информации на основе проблемы рюкзака Известия Томского политехнического университета Известия ТПУ  Т    С на английском языке          с                                                                   Ссылкиправить  править код   англ       англ     англ   немЗадача о ранцеПриложенияЗадача о ранце в криптографииЗадача раскрояКриптосистемы на основе задачи о ранцеМеркла  ХеллманаНаккаша  ШтернаГрэма  ШамираДополнительноСписок задач о ранцеполные задачиМаксимизационная задачаукладки упаковкиУпаковка в контейнерыдвумерная упаковкалинейная упаковкаупаковка по весуупаковка по стоимостиЗадача о рюкзакеТеория графовтеория множествЗадача о вершинном покрытииЗадача о кликеЗадача о независимом множестве набореЗадача о покрытии множестваЗадача ШтейнераЗадача коммивояжёраОбобщённая задача коммивояжёраАлгоритмические задачиЗадача выполнимости булевых формул в конъюнктивной нормальной формеЛогические игрыи головоломкиОбобщённые пятнашки игра в задача поиска кратчайшего решенияЗадачи решения которых применяются в ТетрисЗадача обобщённого судокуЗадача о заполнении латинского квадратаЗадача какуроКлассы сложностиИсследование операцийОптимизацияКомбинаторная оптимизацияПрикладная математикаТеория алгоритмовДинамическое программирование полная задача КарпаЭта статья входит в число хороших статей русскоязычного раздела ВикипедииИсточник  ЗадачаорюкзакеКатегории полные задачиПрикладная математикаДинамическое программированиеСкрытые категории Страницы использующие волшебные ссылки ВикипедияХорошие статьи по математикеВикипедияХорошие статьи по алфавитуНавигацияПерсональные инструментыВы не представились системеОбсуждениеВкладСоздать учётную записьВойтиПространства имёнСтатьяОбсуждениеВариантыПросмотрыЧитатьПравитьПравить кодИсторияЕщёПоиск    Навигация    Заглавная страницаРубрикацияУказатель АЯИзбранные статьиСлучайная статьяТекущие события    Участие    Сообщить обошибкеСообществоФорумСвежие правкиНовые страницыСправкаПожертвовать    Инструменты    Ссылки сюдаСвязанные правкиСлужебные страницыПостоянная ссылкаСведения остраницеЭлемент ВикиданныхЦитировать страницу    Печатьэкспорт    Создать книгуСкачать как Версия для печати    На других языках    БългарскиСрпски  Укранська Править ссылки Эта страница в последний раз была отредактирована  февраля  в Текст доступен по лицензии    в отдельных случаях могут действовать дополнительные условияПодробнее см Условия использования зарегистрированный товарный знак некоммерческой организации   Политика конфиденциальностиОписание ВикипедииОтказ от ответственностиСвяжитесь с намиРазработчикиСтатистикаЗаявление о кукиМобильная версия                  Шаблон          ШаблонПримечания          ШаблонСтатья         Шаблон           ШаблонКнига            ШаблонБсокр            ШаблонХорошаястатья            Шаблон           Шаблонтекст                                     Ананий В Левитин Ананий В Левитин           Вильямс       Владимир Николаевич Бурков Владимир Николаевич Бурков            Иван Алексеевич Горгидзе Иван Алексеевич Горгидзе            Сергей Евгеньевич Ловецкий Сергей Евгеньевич Ловецкий            Горгидзе Алексей Ясонович Горгидзе Алексей Ясонович           Тбилиси       Габидулин Эрнст Мухамедович Габидулин Эрнст Мухамедович            Кшевецкий Александр Сергеевич Кшевецкий Александр Сергеевич            Колыбельников Александр Иванович Колыбельников Александр Иванович                                                                                                  